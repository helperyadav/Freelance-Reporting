<html>
  <head>
	<script src="./js/libs/jquery-1.6.2.min.js"></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
	  
      function drawChart() {
		//Call ajax here. and get all data.. and then call respective chart draw function for each widget.
		AppPopularityByViewClick('chart_div');
        
      }
	  $(document).ready( function(){
		$( '#change' ).click(function(){
			AppPopularityByViewClick('chart_div');
		});
	  });
	  
	  function AppPopularityByViewClick( elem, result ){
	    
		if( this.chart == undefined )
			this.chart = new google.visualization.ColumnChart(document.getElementById(elem));
		
		if( this.options === undefined ){
			this.options = {
			  title: 'Company Performance',
			  hAxis: {title: 'App', titleTextStyle: {color: 'blue'}},
			  animation:{
				easing: 'in',
				duration: 500
			  }
			};
		}
		
		//Result should come in below format.
		if( this.result === undefined )
		this.result =  [['App', 'Clicks', 'Views'],
          ['a', 15, 14],
          ['b', 11, 18],
          ['c', 19, 10],
          ['d', 58, 35]
        ];
				
		var data = google.visualization.arrayToDataTable( this.result );
        this.result.push( ['e', 12,23] );
        this.chart.draw(data, this.options);
	}
    </script>
  </head>
  <body>
	<button id='change' >change </button>
    <div id="chart_div" style="width: 400px; height: 200px;"></div>
  </body>
</html>